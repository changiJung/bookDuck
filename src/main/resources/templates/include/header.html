

<div th:fragment="templateJs">
	
	<!-- Bootstrap core JavaScript -->
	<script src="vendor/jquery/jquery.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

	<!-- Plugin JavaScript -->
	<script src="vendor/jquery-easing/jquery.easing.min.js"></script>

	<!-- Custom JavaScript for this theme -->
	<script src="js/scrolling-nav.js"></script>


	<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<!-- Custom styles for this template -->
	<link href="css/scrolling-nav.css" rel="stylesheet">
	<script src="js/scrolling-nav.js"></script>

	<!-- 북덕전용 관련 기능 -->
	<link href="css/bookduck.css" rel="stylesheet">
	<script src="js/bookduck.js"></script>
	
	<script>

	$(document).ready(function() {
	
				if(localStorage.getItem("Authorization!") != null) {

					changeLogin();

					$.ajaxSetup({
					  headers: {
					    'Authorization': window.localStorage.getItem("Authorization")
					  }
					});
				
				}

	})




	 function ajaxMove(path){


	      $.ajax({
	        type : "GET",
	        url : path,
	        dataType : "text",
	        error : function() {
	          alert('통신실패!!');
	        },
	        success : function(data) {

	        	$('#content').html(data);

	        }
	 
	      });
	    
	    }

	function changeLogin(){

			
		if(localStorage.getItem("Authorization") != null) {
			var change1 = 
			`
			<li id='loginProcess' class="nav-item"><a class="nav-link js-scroll-trigger"
				href='#' onclick="loginOut();">로그아웃</a></li>
			`
			;

			$("#loginProcess").html(change1);

		} else {

			var change2 = 
			`
			<li id='loginProcess' class="nav-item"><a class="nav-link js-scroll-trigger"
						href='#' onclick="ajaxMove('login');">로그인</a></li>						
			`
			;

			$("#loginProcess").html(change2);

		}

		
	}


	function loginOut() {

		localStorage.removeItem("Authorization")
		changeLogin();

	}


	</script>
	

</div>


<!-- Bootstrap core CSS -->


<div th:fragment="templateHeader">
	<!-- Navigation -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top"
		id="mainNav">
		<div class="container">

			<a class="navbar-brand js-scroll-trigger" href="#" onclick="ajaxMove('/main');">북덕방</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarResponsive" aria-controls="navbarResponsive"
				aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarResponsive">
				<ul class="navbar-nav ml-auto">
					<li class="nav-item"><a class="nav-link js-scroll-trigger"
						href="#" onclick="ajaxMove('/introduce');">북덕방이란</a></li>
					<li class="nav-item"><a class="nav-link js -scroll-trigger"
						href="#">북서재</a></li>
					<li id='loginProcess' class="nav-item"><a class="nav-link js-scroll-trigger"
						href='#' onclick="ajaxMove('login');">로그인</a></li>						
			
				</ul>
			</div>
		</div>
	</nav>
</div>


<div th:fragment="templateIntro">
	<header class="bg-primary text-white">
		<div class="container text-center">
			<h1>북덕방에 오신것을 환영합니다</h1>
			<p class="lead">책 관련 서평 및 서재를 공유할 수 있는 공간입니다</p>		
	</header>

</div>